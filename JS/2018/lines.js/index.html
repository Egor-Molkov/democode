<!DOCTYPE html>
<html>

<head>

	<title>Lines</title>

	<meta name="author" content="Egor" >
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta http-equiv="content-style-type" content="text/css">

	<link href="reset.css" rel="stylesheet" type="text/css">
	<link href="style.css" rel="stylesheet" type="text/css">

	<script src="easeljs-0.8.2.min.js"></script>
	<script src="jquery-3.1.1.min.js"></script>

	<script src="lines.js" ></script>
<!--  -->
</head>

<body>

	<header class="headers"><h1>Линии</h1></header>

	<article>

		<section class="game_left">
			<canvas id="game_output" width="500" height="500"></canvas>
		</section>

		<section class="game_right">
			<div class="game_info"></div>
			<div class="game_info_pre"><canvas id="game_output_pre" width="225" height="75"></canvas></div>
			<div class="game_info_txt"></div>
			<div class="game_play"><br>Начать игру</div>
		</section>

	</article>

	<script>

		var lines = new Lines ( );
		var score;
		
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////					Управление					////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

		$( ".game_play" ).click( function ( ) {
		 	lines.start( );
		});
		// раз в секунду вернем очки
		var timerS = setInterval( function ( ) {
			score = lines.getScore ( );
			$( ".game_info" ).empty( );
			$( ".game_info" ).append( "<br>Счет: " + score );
		}, 1000 );
		
//////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////					Game over					/////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////

		function CB_gameOver ( ) {
			clearInterval( timerS )
			$( ".game_info_pre" ).hide( 600 );
			$( ".game_info_txt" ).delay(600).hide( 600 );
			$( ".game_left" ).delay(1200).fadeOut( 600 );
			var timerSS = setTimeout( function ( ) {
				$( "h1" ).empty( )			
				$( "h1" ).append( "<h1>Game over</h1>" );
			}, 1900 );
			var timerSS = setTimeout( function ( ) {
				clearTimeout( timerSS );			
			}, 2000 );
		};
	</script>
</body>
</html>