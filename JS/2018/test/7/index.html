<!DOCTYPE html>
<html>

<head>
	<title>Test</title>
	<meta name="author" content="Egor" >
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta http-equiv="content-style-type" content="text/css">
	<link href="reset.css" rel="stylesheet" type="text/css">
	<link href="style.css" rel="stylesheet" type="text/css">
	<script src="jquery-3.1.1.min.js"></script>
</head>
<!-- Напишите функцию, проверяющую является ли номер счастливым (номер может быть как в числового, так и строкового типа). Функция должна возвращать true, если билет счастливый, или false, если нет. -->
<body>
	<header class="headers"><h1>Счастливый билет</h1></header>
	<article>
		<section>
			<div class="info">
				Напишите функцию, проверяющую является ли номер счастливым (номер может быть как в числового, так и строкового типа). Функция должна возвращать true, если билет счастливый, или false, если нет.
			</div>
			<div>
				<input name="value_pre"  type="text" maxlength="20"  placeholder="Введите число" autofocus="true" pattern="^[0-9]+$">
				<input name="value_ok" type="button" value="ok">
			</div>
		</section>
		<section>
			<div class="_out">
			</div>
		</section>
	</article>
<script>
var f = "false", t, x, y;
function isHappyTicket( t ) {
	var i = 0;
	f = "false";
	x = 0;
	y = 0;
	t = String( t );
	if ( t.length%2 == 0 ) {
		while ( i != t.length/2 ) {
			x += ( t[ i ] )^0;
			y += ( t[ i + t.length/2 ] )^0;
			i++;
		};
		if ( x == y ) { f = "true" }
	} else {
		while ( i != ( ( t.length/2 )^0  ) ) {
			x += ( t[ i ] )^0;
			y += ( t[ i + ( t.length/2 )^0 ] )^0;
			i++;
		};
		y += ( t[ t.length - 1 ] )^0;
		if ( x == y ) { f = "true" }			
	};
	return x,y,f;
};
$( '[name = value_ok]' ).click( function ( ) {
	var reg = new RegExp ( "^[0-9]+$" );
	t = $( '[name = value_pre]' ).val( );
	if ( t && reg.test( t ) ) { 
		$( "div._out" ).empty( );
		isHappyTicket( t )
		$( "div._out" ).append( x + " - " + y + " > " + f );
	} else { $( "div._out" ).empty( ); }
});
</script>
</body>
</html>